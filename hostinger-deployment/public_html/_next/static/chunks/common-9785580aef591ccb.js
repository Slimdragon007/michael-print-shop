(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{136:(e,t,r)=>{"use strict";r.d(t,{ProductGrid:()=>v});var i=r(5155),s=r(6766),a=r(6874),n=r.n(a),o=r(2115),c=r(1976),l=r(2657),d=r(7809),u=r(8482),m=r(7168),p=r(8145),f=r(3999),x=r(4446);function g(e){var t;let{product:r,showQuickAdd:a=!0,showWishlist:g=!1}=e,[h,v]=(0,o.useState)((null==(t=r.print_options)?void 0:t[0])||null),[b,y]=(0,o.useState)(!1),N=(0,x.x)(e=>e.addItem),j=r.base_price,w=h?j+h.price_modifier:j,_=(0,f.KD)(r.dimensions.width,r.dimensions.height);return(0,i.jsxs)(u.Zp,{className:"group relative overflow-hidden transition-all duration-300 hover:shadow-lg",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[(0,i.jsx)(n(),{href:"/products/".concat(r.id),children:(0,i.jsxs)("div",{className:"relative aspect-square overflow-hidden",children:[(0,i.jsx)(s.default,{src:r.image_url,alt:r.title,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,i.jsx)("div",{className:"absolute inset-0 bg-black/40 transition-opacity duration-300 ".concat(b?"opacity-100":"opacity-0"),children:(0,i.jsxs)("div",{className:"absolute top-4 right-4 space-y-2",children:[g&&(0,i.jsx)(m.$,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full bg-white/90 hover:bg-white",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,i.jsx)(c.A,{className:"h-4 w-4"})}),(0,i.jsx)(m.$,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full bg-white/90 hover:bg-white",asChild:!0,children:(0,i.jsx)(n(),{href:"/products/".concat(r.id),children:(0,i.jsx)(l.A,{className:"h-4 w-4"})})})]})}),(0,i.jsx)("div",{className:"absolute top-4 left-4",children:(0,i.jsx)(p.E,{variant:"secondary",className:"bg-white/90",children:r.category.name})}),(0,i.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,i.jsx)(p.E,{variant:"outline",className:"bg-white/90",children:_})})]})}),(0,i.jsxs)(u.Wu,{className:"p-4",children:[(0,i.jsx)(n(),{href:"/products/".concat(r.id),children:(0,i.jsx)("h3",{className:"font-semibold text-lg mb-2 line-clamp-2 hover:text-primary transition-colors",children:r.title})}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:r.description}),r.tags&&r.tags.length>0&&(0,i.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[r.tags.slice(0,3).map((e,t)=>(0,i.jsx)(p.E,{variant:"outline",className:"text-xs",children:e},t)),r.tags.length>3&&(0,i.jsxs)(p.E,{variant:"outline",className:"text-xs",children:["+",r.tags.length-3]})]}),r.print_options&&r.print_options.length>0&&(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{className:"text-xs font-medium text-muted-foreground mb-1 block",children:"Material & Size"}),(0,i.jsx)("select",{value:(null==h?void 0:h.id)||"",onChange:e=>{v(r.print_options.find(t=>t.id===e.target.value)||null)},className:"w-full text-xs border rounded px-2 py-1",onClick:e=>e.stopPropagation(),children:r.print_options.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.material," - ",e.size,0!==e.price_modifier&&" (".concat(e.price_modifier>0?"+":"").concat((0,f.$g)(e.price_modifier),")")]},e.id))})]}),(0,i.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-lg font-bold",children:(0,f.$g)(w)}),h&&0!==h.price_modifier&&(0,i.jsxs)("span",{className:"text-sm text-muted-foreground ml-2",children:["(base: ",(0,f.$g)(j),")"]})]})})]}),a&&(0,i.jsx)(u.wL,{className:"p-4 pt-0",children:(0,i.jsxs)(m.$,{className:"w-full",onClick:e=>{e.preventDefault(),e.stopPropagation(),h&&N(r,h,1)},disabled:!h,children:[(0,i.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Add to Cart"]})})]})}function h(e){let{className:t,size:r="md",...s}=e;return(0,i.jsx)("div",{className:(0,f.cn)("animate-spin rounded-full border-2 border-current border-t-transparent",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[r],t),...s})}function v(e){let{products:t,loading:r=!1,emptyMessage:s="No products found",showQuickAdd:a=!0,showWishlist:n=!1}=e;return r?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)(h,{size:"lg",className:"mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Loading products..."})]})}):0===t.length?(0,i.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("p",{className:"text-lg text-muted-foreground mb-2",children:s}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search or filters"})]})}):(0,i.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,i.jsx)(g,{product:e,showQuickAdd:a,showWishlist:n},e.id))})}},3999:(e,t,r)=>{"use strict";r.d(t,{$g:()=>n,KD:()=>c,Ly:()=>o,cn:()=>a});var i=r(2596),s=r(9688);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,i.$)(t))}function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function o(e,t){return e+t}function c(e,t){let r=(e,t)=>0===t?e:r(t,e%t),i=r(e,t);return"".concat(e/i,":").concat(t/i)}},4446:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var i=r(5453),s=r(6786),a=r(3999);let n={items:[],total:0,item_count:0},o=(0,i.v)()((0,s.Zr)((e,t)=>({cart:n,addItem:function(r,i){let s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=t(),c=o.cart.items.findIndex(e=>e.product.id===r.id&&e.print_option.id===i.id),l=(0,a.Ly)(r.base_price,i.price_modifier);e({cart:{items:s=c>=0?o.cart.items.map((e,t)=>{if(t===c){let t=e.quantity+n;return{...e,quantity:t,total_price:l*t}}return e}):[...o.cart.items,{product:r,print_option:i,quantity:n,total_price:l*n}],total:s.reduce((e,t)=>e+t.total_price,0),item_count:s.reduce((e,t)=>e+t.quantity,0)}})},removeItem:r=>{let i=t().cart.items.filter((e,t)=>t!==r);e({cart:{items:i,total:i.reduce((e,t)=>e+t.total_price,0),item_count:i.reduce((e,t)=>e+t.quantity,0)}})},updateQuantity:(r,i)=>{if(i<=0)return void t().removeItem(r);let s=t().cart.items.map((e,t)=>{if(t===r){let t=(0,a.Ly)(e.product.base_price,e.print_option.price_modifier);return{...e,quantity:i,total_price:t*i}}return e});e({cart:{items:s,total:s.reduce((e,t)=>e+t.total_price,0),item_count:s.reduce((e,t)=>e+t.quantity,0)}})},clearCart:()=>{e({cart:n})},loadCart:()=>{let r=t().cart.items.map(e=>{let t=(0,a.Ly)(e.product.base_price,e.print_option.price_modifier);return{...e,total_price:t*e.quantity}});e({cart:{items:r,total:r.reduce((e,t)=>e+t.total_price,0),item_count:r.reduce((e,t)=>e+t.quantity,0)}})},saveCart:()=>{}}),{name:"cart-store",version:1,onRehydrateStorage:()=>e=>{e&&e.loadCart()}}))},6414:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});let i=(0,r(3254).createBrowserClient)("https://bfdkpjdkeeyxawiicqim.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJmZGtwamRrZWV5eGF3aWljcWltIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxNDg2MTEsImV4cCI6MjA3MDcyNDYxMX0.WWcNHnMFkr1xmN3ZYZayL4TFFbRofDrg5XV7jRKz8CA")},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var i=r(5155),s=r(2115),a=r(9708),n=r(2085),o=r(3999);let c=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...d}=e,u=l?a.DX:"button";return(0,i.jsx)(u,{className:(0,o.cn)(c({variant:s,size:n,className:r})),ref:t,...d})});l.displayName="Button"},8145:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var i=r(5155);r(2115);var s=r(2085),a=r(3999);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,i.jsx)("div",{className:(0,a.cn)(n({variant:r}),t),...s})}},8482:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>c,Zp:()=>n,aR:()=>o,wL:()=>d});var i=r(5155),s=r(2115),a=r(3999);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});c.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...s})});l.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,i.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter"},9393:()=>{},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var i=r(5155),s=r(2115),a=r(3999);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,i.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"}}]);